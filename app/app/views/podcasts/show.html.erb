
<div class="row">
	<div class="medium-3 columns">
		<%= image_tag @podcast.logo_url %>
		<%= link_to 'Edit', edit_podcast_path(@podcast), class: 'button', style: 'width: 100%' %>
	</div>
	<div class="medium-9 columns">
		<h1><%= @podcast.title %></h1>
		<h2><small><%= @podcast.subtitle %></small></h2>
		<table>
			<thead>
				<tr>
					<th></th>
					<th></th>
				</tr>
			</thead>
			<tbody>

				<tr>
					<td><strong>Language:</strong></td>
					<td><%= @podcast.language %></td>
				</tr>

				<tr>
					<td><strong>Author:</strong></td>
					<td><%= @podcast.author %></td>
				</tr>

				<tr>
					<td><strong>Description:</strong></td>
					<td><%= @podcast.description %></td>
				</tr>

				<tr>
					<td><strong>Logo url:</strong></td>
					<td><%= @podcast.logo_url %></td>
				</tr>

				<tr>
					<td><strong>Website:</strong></td>
					<td><%= @podcast.website %></td>
				</tr>

				<tr>
					<td><strong>Feed:</strong></td>
					<td><%= @podcast.feed %></td>
				</tr>

				<tr>
					<td><strong>Tags:</strong></td>
					<td><%= @podcast.tags %></td>
				</tr>

				<tr>
					<td><strong>Category:</strong></td>
					<td><%= @podcast.category %></td>
				</tr>
			</tbody>
		</table>

	</div>
</div>

<div class="row">
	<div class="medium-12 colums">


		<h2>All episodes of this podcast</h2>

		<%= link_to 'Check for new Episodes', {controller: 'podcasts', action: 'update_feed', id: @podcast.id}, class: 'button success'%>
		<%= link_to 'Delete All Episodes', {controller: 'podcasts', action: 'delete_all_episodes', id: @podcast.id}, class: 'button alert' %>
		<%= link_to 'Download All Episodes', {controller: 'podcasts', action: 'download_all_episodes', id: @podcast.id}, class: 'button' %>
		
		<table>
			<thead>
				<tr>
					<th></th>
					<th>Title</th>
					<th>Pub date</th>
					<th>Duration</th>
					<th>Tags</th>
					<th><i class="fa fa-download"></i></th>
					<th></th>
				</tr>
			</thead>

			<tbody>
				<% @episodes.each do |episode| %>
				<tr>
					<td><%= image_tag episode.icon_url_podcast_fallback, size: '80' %></td>
					<td><%= link_to episode.title, episode %></td>
					<td><%= episode.pub_date %></td>
					<td><%= episode.duration %></td>
					<td><%= episode.tags %></td>
					<td>
						<% if episode.cached? %>
							<i class="fa fa-check-circle" style="color: green"></i>
						<% else %>
							<i class="fa fa-times-circle" style="color: red"></i>
						<% end %>
					</td>

					<td>
						<div>
							<% if episode.cached? %>
								<%= link_to 'Delete Cache', controller: 'episodes', action: 'delete_cached_file', id: episode.id %>
							<% else %>
								<%= link_to 'Download', controller: 'episodes', action: 'download', id: episode.id%>
							<% end %>
						</div>
						<div><%= link_to 'Edit', edit_episode_path(episode) %></div>
						<div><%= link_to 'Destroy', episode, method: :delete, data: { confirm: 'Are you sure?' } %></div>
					</td>
				</tr>
				<% end %>
			</tbody>
		</table>
		
	</div>
</div>